{"ast":null,"code":"import _toConsumableArray from \"/Users/palina/work/journal-app/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport axios from 'axios'; //ACTION TYPES\n\nvar GET_USER = 'GET_USER';\nvar GET_USERS = 'GET_USERS';\nvar ADD_USER = 'ADD_USER'; //ACTION CREATORS\n\nvar getUsers = function getUsers(users) {\n  return {\n    type: GET_USERS,\n    users: users\n  };\n};\n\nvar getUser = function getUser(user) {\n  return {\n    type: GET_USER,\n    user: user\n  };\n};\n\nvar addUser = function addUser(newUser) {\n  return {\n    type: ADD_USER,\n    newUser: newUser\n  };\n}; //THUNK CREATORS\n\n\nexport var fetchUsers = function fetchUsers() {\n  return function (dispatch) {\n    axios.get('/api/users').then(function (res) {\n      return res.data;\n    }).then(function (users) {\n      dispatch(getUsers(users));\n    }).catch(console.error);\n  };\n};\nexport var fetchUser = function fetchUser(id) {\n  return function (dispatch) {\n    axios.get(\"/api/users/\".concat(id)).then(function (res) {\n      return res.data;\n    }).then(function (user) {\n      dispatch(getUser(user));\n    }).catch(console.error);\n  };\n};\nexport var postUser = function postUser(newUser, history) {\n  return function (dispatch) {\n    axios.post('/api/users', newUser).then(function (res) {\n      return res.data;\n    }).then(function (user) {\n      dispatch(addUser(user));\n      history.push('/users');\n    }).catch(console.error);\n  };\n}; //REDUCER\n\nexport default function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case GET_USERS:\n      return action.users;\n\n    case GET_USER:\n      return action.user;\n\n    case ADD_USER:\n      return _toConsumableArray(state).concat([action.newUser]);\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/Users/palina/work/journal-app/client/src/store/user.js"],"names":["axios","GET_USER","GET_USERS","ADD_USER","getUsers","users","type","getUser","user","addUser","newUser","fetchUsers","dispatch","get","then","res","data","catch","console","error","fetchUser","id","postUser","history","post","push","state","action"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CAEA;;AACA,IAAMC,QAAQ,GAAG,UAAjB;AACA,IAAMC,SAAS,GAAG,WAAlB;AACA,IAAMC,QAAQ,GAAG,UAAjB,C,CAEA;;AACA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAAAC,KAAK;AAAA,SAAK;AAACC,IAAAA,IAAI,EAAEJ,SAAP;AAAkBG,IAAAA,KAAK,EAALA;AAAlB,GAAL;AAAA,CAAtB;;AAEA,IAAME,OAAO,GAAG,SAAVA,OAAU,CAAAC,IAAI;AAAA,SAAK;AAACF,IAAAA,IAAI,EAAEL,QAAP;AAAiBO,IAAAA,IAAI,EAAJA;AAAjB,GAAL;AAAA,CAApB;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAAAC,OAAO;AAAA,SAAK;AAACJ,IAAAA,IAAI,EAAEH,QAAP;AAAiBO,IAAAA,OAAO,EAAPA;AAAjB,GAAL;AAAA,CAAvB,C,CAEA;;;AACA,OAAO,IAAMC,UAAU,GAAE,SAAZA,UAAY,GAAM;AAC3B,SAAO,UAAAC,QAAQ,EAAI;AACjBZ,IAAAA,KAAK,CAACa,GAAN,CAAU,YAAV,EACGC,IADH,CACQ,UAAAC,GAAG;AAAA,aAAIA,GAAG,CAACC,IAAR;AAAA,KADX,EAEGF,IAFH,CAEQ,UAAAT,KAAK,EAAI;AACXO,MAAAA,QAAQ,CAACR,QAAQ,CAACC,KAAD,CAAT,CAAR;AACH,KAJH,EAKGY,KALH,CAKSC,OAAO,CAACC,KALjB;AAMD,GAPD;AAQH,CATM;AAWP,OAAO,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,EAAD,EAAQ;AAC7B,SAAO,UAAAT,QAAQ,EAAI;AACjBZ,IAAAA,KAAK,CAACa,GAAN,sBAAwBQ,EAAxB,GACGP,IADH,CACQ,UAAAC,GAAG;AAAA,aAAIA,GAAG,CAACC,IAAR;AAAA,KADX,EAEGF,IAFH,CAEQ,UAAAN,IAAI,EAAI;AACZI,MAAAA,QAAQ,CAACL,OAAO,CAACC,IAAD,CAAR,CAAR;AACD,KAJH,EAKGS,KALH,CAKSC,OAAO,CAACC,KALjB;AAMD,GAPD;AAQH,CATM;AAWP,OAAO,IAAMG,QAAQ,GAAG,SAAXA,QAAW,CAACZ,OAAD,EAAUa,OAAV,EAAsB;AAC1C,SAAO,UAAAX,QAAQ,EAAI;AACjBZ,IAAAA,KAAK,CAACwB,IAAN,CAAW,YAAX,EAAyBd,OAAzB,EACGI,IADH,CACQ,UAAAC,GAAG;AAAA,aAAIA,GAAG,CAACC,IAAR;AAAA,KADX,EAEGF,IAFH,CAEQ,UAAAN,IAAI,EAAI;AACZI,MAAAA,QAAQ,CAACH,OAAO,CAACD,IAAD,CAAR,CAAR;AACAe,MAAAA,OAAO,CAACE,IAAR,CAAa,QAAb;AACD,KALH,EAMGR,KANH,CAMSC,OAAO,CAACC,KANjB;AAOD,GARD;AASH,CAVM,C,CAYP;;AACA,eAAe,YAA8B;AAAA,MAApBO,KAAoB,uEAAZ,EAAY;AAAA,MAARC,MAAQ;;AACzC,UAAQA,MAAM,CAACrB,IAAf;AACI,SAAKJ,SAAL;AACI,aAAOyB,MAAM,CAACtB,KAAd;;AACJ,SAAKJ,QAAL;AACI,aAAO0B,MAAM,CAACnB,IAAd;;AACJ,SAAKL,QAAL;AACI,gCAAWuB,KAAX,UAAkBC,MAAM,CAACjB,OAAzB;;AACJ;AACI,aAAOgB,KAAP;AARR;AAUH","sourcesContent":["import axios from 'axios';\n\n//ACTION TYPES\nconst GET_USER = 'GET_USER';\nconst GET_USERS = 'GET_USERS';\nconst ADD_USER = 'ADD_USER';\n\n//ACTION CREATORS\nconst getUsers = users => ({type: GET_USERS, users});\n\nconst getUser = user => ({type: GET_USER, user});\n\nconst addUser = newUser => ({type: ADD_USER, newUser});\n\n//THUNK CREATORS\nexport const fetchUsers= () => {\n    return dispatch => {\n      axios.get('/api/users')\n        .then(res => res.data)\n        .then(users => {\n            dispatch(getUsers(users))\n        })\n        .catch(console.error);\n    }\n}\n\nexport const fetchUser = (id) => {\n    return dispatch => {\n      axios.get(`/api/users/${id}`)\n        .then(res => res.data)\n        .then(user => {\n          dispatch(getUser(user))\n        })\n        .catch(console.error)\n    }\n}  \n\nexport const postUser = (newUser, history) => {\n    return dispatch => {\n      axios.post('/api/users', newUser)\n        .then(res => res.data)\n        .then(user => {\n          dispatch(addUser(user))\n          history.push('/users') \n        })\n        .catch(console.error)\n    }\n} \n\n//REDUCER\nexport default function (state = [], action) {\n    switch (action.type) {\n        case GET_USERS:\n            return action.users\n        case GET_USER:\n            return action.user\n        case ADD_USER:\n            return [...state, action.newUser];\n        default:\n            return state\n    }\n}"]},"metadata":{},"sourceType":"module"}